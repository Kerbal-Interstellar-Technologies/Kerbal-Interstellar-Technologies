@PART[*]:HAS[@RESOURCE[LiquidFuel],!RESOURCE[Oxidizer],!RESOURCE[MonoPropellant],!MODULE[ModuleTankManager],!MODULE[InterstellarFuelSwitch],!MODULE[FSfuelSwitch],!MODULE[ModuleB9PartSwitch],!MODULE[ModuleEnginesFX],!MODULE[ModuleEngines]]:NEEDS[InterstellarFuelSwitch&!ModularFuelTanks&!RealFuels&!ConfigurableContainers/Parts]:FOR[InterstellarFuelSwitch]
{
	%totalCap = #$RESOURCE[LiquidFuel]/maxAmount$

	%onlyLH2 = #$totalCap$
	@onlyLH2 *= 5

	%cryoPower = #$onlyLH2$
	@cryoPower /= 800
	
	MODULE:NEEDS[!WarpPlugin]
	{
		name = InterstellarFuelSwitch
		tankSwitchNames = #autoLOC_500999;#autoLOC_501000;#autoLOC_501002;#LOC_KSPIE_LqdHydrogen_DisplayName;#LOC_KSPIE_LqdMethane_DisplayName
		resourceGui = #autoLOC_500999;#autoLOC_501000;#autoLOC_501002;#LOC_KSPIE_LqdHydrogen_DisplayName;#LOC_KSPIE_LqdMethane_DisplayName
		resourceNames = LiquidFuel;Oxidizer;MonoPropellant;LqdHydrogen;LqdMethane
		resourceAmounts = #$../totalCap$;$../totalCap$;$../totalCap$;$../onlyLH2$;$../onlyLH2$
		tankTechReq = start;start;advFuelSystems;advFuelSystems;highPerformanceFuelSystems
		tankResourceMassDivider = 8;8;6.66666666666;5.5;8
		adaptiveTankSelection = false
		orderBySwitchName = true
		displayTankCost = true
		hasGUI = false
	}

	MODULE:NEEDS[WarpPlugin]
	{
		name = InterstellarFuelSwitch
		tankSwitchNames = #autoLOC_500999;#autoLOC_501000;#autoLOC_501002;#LOC_KSPIE_LqdHydrogen_DisplayName;#LOC_KSPIE_LqdNitrogen_DisplayName;#LOC_KSPIE_LqdArgon_DisplayName;#LOC_KSPIE_LqdMethane_DisplayName;#LOC_KSPIE_LqdAmmonia_DisplayName;#LOC_KSPIE_Hydrazine_DisplayName;#LOC_KSPIE_LqdCO2_DisplayName;#LOC_KSPIE_HTP_DisplayName
		resourceGui = #autoLOC_500999;#autoLOC_501000;#autoLOC_501002;#LOC_KSPIE_LqdHydrogen_DisplayName;#LOC_KSPIE_LqdNitrogen_DisplayName;#LOC_KSPIE_LqdAmmonia_DisplayName;#LOC_KSPIE_LqdMethane_DisplayName;#LOC_KSPIE_LqdArgon_DisplayName;#LOC_KSPIE_Hydrazine_DisplayName;#LOC_KSPIE_LqdCO2_DisplayName;#LOC_KSPIE_HTP_DisplayName
		resourceNames = LiquidFuel;Oxidizer;MonoPropellant;LqdHydrogen;LqdNitrogen;LqdArgon;LqdMethane;LqdAmmonia;Hydrazine;LqdCO2;HTP
		resourceAmounts = #$../totalCap$;$../totalCap$;$../totalCap$;$../onlyLH2$;$../onlyLH2$;$../onlyLH2$;$../onlyLH2$;$../onlyLH2$;$../onlyLH2$;$../onlyLH2$;$../onlyLH2$
		tankTechReq = start;start;advFuelSystems;advFuelSystems;largeVolumeContainment;largeVolumeContainment;highPerformanceFuelSystems;highPerformanceFuelSystems;specializedFuelStorage;largeVolumeContainment;specializedFuelStorage
		tankResourceMassDivider = 8;8;6.66666666666;5.5;8;8;8;8;8;8;8
		adaptiveTankSelection = false
		orderBySwitchName = true
		displayTankCost = true
		hasGUI = false
	}

	@MODULE[InterstellarFuelSwitch]:NEEDS[RealSolarSystem]
	{
		%tankResourceMassDividerAddition = 12;12;13.333333333333;8.7272727273;12;12;12;12;12;12;12
	}

    	MODULE
    	{
		name:NEEDS[!WarpPlugin]	= IFSCryostat
		name:NEEDS[WarpPlugin]  = ModuleStorageCryostat
		resourceName	=	LqdHydrogen
		resourceGUIName =	#LOC_KSPIE_LqdHydrogen_DisplayName//#LOC_KSPIE_LqdHydrogen_DisplayName
		powerReqKW	=	#$../cryoPower$
		boilOffRate     =	0
		boilOffTemp     =	20.271
		boilOffMultiplier =	1
		boilOffBase	= 	#$../onlyLH2$
		boilOffAddition =	8.97215e-5
    	}

    	MODULE
    	{
		name:NEEDS[!WarpPlugin]	= IFSCryostat
		name:NEEDS[WarpPlugin]  = ModuleStorageCryostat
		resourceName	=	LqdCO2
		resourceGUIName =	#LOC_KSPIE_LqdCO2_DisplayName
		powerReqKW	=	#$../cryoPower$
		boilOffRate     =	0
		boilOffTemp     =	81.65
		boilOffMultiplier =	1
		boilOffBase	= 	#$../onlyLH2$
		boilOffAddition =	8.97215e-5
    	}

    	MODULE
    	{
		name:NEEDS[!WarpPlugin]	= IFSCryostat
		name:NEEDS[WarpPlugin]  = ModuleStorageCryostat
		resourceName	=	LqdOxygen
		resourceGUIName =	#LOC_KSPIE_LqdOxygen_DisplayName//Liquid Oxygen
		powerReqKW	=	#$../cryoPower$
		boilOffRate     =	0
		boilOffTemp     =	90.188
		boilOffMultiplier =	1
		boilOffBase	= 	#$../onlyLH2$
		boilOffAddition =	8.97215e-5
    	}

    	MODULE
    	{
		name:NEEDS[!WarpPlugin]	= IFSCryostat
		name:NEEDS[WarpPlugin]  = ModuleStorageCryostat
		resourceName	=	LqdMethane
		resourceGUIName =	#LOC_KSPIE_LqdMethane_DisplayName//Liquid Methane
		powerReqKW	=	#$../cryoPower$
		boilOffRate     =	0
		boilOffTemp     =	111.66
		boilOffMultiplier =	1
		boilOffBase	= 	#$../onlyLH2$
		boilOffAddition =	8.97215e-5
    	}

	MODULE
	{
		name:NEEDS[!WarpPlugin]	= IFSCryostat
		name:NEEDS[WarpPlugin]  = ModuleStorageCryostat
		resourceName	=	LqdAmmonia
		resourceGUIName =	#LOC_KSPIE_LqdAmmonia_DisplayName//Liquid Ammonia
		powerReqKW	=	#$../cryoPower$
		boilOffRate     =	0
		boilOffTemp     =	239.81
		boilOffMultiplier =	1
		boilOffBase	= 	#$../onlyLH2$
		boilOffAddition =	8.97215e-5
	}

	MODULE
	{
		name:NEEDS[!WarpPlugin]	= IFSCryostat
		name:NEEDS[WarpPlugin]  = ModuleStorageCryostat
		resourceName	=	LqdNitrogen
		resourceGUIName =	#LOC_KSPIE_LqdNitrogen_DisplayName//Liquid Nitrogen
		powerReqKW	=	#$../cryoPower$
		boilOffRate     =	0
		boilOffTemp     =	77.355
		boilOffMultiplier =	1
		boilOffBase	= 	#$../onlyLH2$
		boilOffAddition =	8.97215e-5
	}

	MODULE
	{
		name:NEEDS[!WarpPlugin]	= IFSCryostat
		name:NEEDS[WarpPlugin]  = ModuleStorageCryostat
		resourceName	=	LqdArgon
		resourceGUIName =	#LOC_KSPIE_LqdArgon_DisplayName//Liquid Argon
		boilOffRate     =	#$../cryoPower$
		boilOffTemp     =	87.3
		powerReqKW	=	2
		boilOffMultiplier =	1
		boilOffBase	=	#$../onlyLH2$
		boilOffAddition =	8.97215e-8
	}
}


@PART[*]:HAS[@RESOURCE[LiquidFuel],!RESOURCE[Oxidizer],MODULE[InterstellarFuelSwitch]]:FINAL
{
	// Remove temporary variables to eliminate log spam
	!totalCap = 0
	!onlyLH2 = 0
	!cryoPower = 0
}