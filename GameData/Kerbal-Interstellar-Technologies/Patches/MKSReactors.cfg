@PART[USI_Nuke_625]:NEEDS[KolonyTools&!NearFutureElectrical]:FOR[WarpPlugin]
{
	-MODULE[FissionReactor] { }
	-MODULE[ModuleResourceConverter] { }
	-MODULE[ModuleCoreHeat] { }
        -MODULE[FissionGenerator] { }
        -MODULE[RadioactiveStorageContainer] { }

	-RESOURCE[EnrichedUranium] { }
	-RESOURCE[DepletedFuel] { }

	!MODULE[FissionReactor]{}
	!MODULE[RadioactiveStorageContainer]{}
	!MODULE[FissionGenerator]{}

	MODULE
	{
		name = InterstellarFissionMSRGC

		coreTemperatureMk1 = 1200
		coreTemperatureMk2 = 1400
		coreTemperatureMk3 = 1600

		basePowerOutputMk1 = 3
		basePowerOutputMk2 = 4.5
		basePowerOutputMk3 = 6.75

		upgradeTechReqMk2 = nuclearFuelSystems
		upgradeTechReqMk3 = largeNuclearPower

		originalName = Nuclear Reactor Mk1 (0.625m)
		upgradedName = Nuclear Reactor Mk2 (0.625m)

		upgradeCost = 60
		radius = 0.625
		partMass = 0.1
		minimumThrottle = 0.1
		consumeGlobal = false
		reactorType = 2
		upgradedReactorType = 2
		fuelEfficiency = 0.1376
		upgradedFuelEfficiency = 0.1376
		heatTransportationEfficiency = 0.95
		bonusBufferFactor = 1
		canBeCombinedWithLab = true
		canBreedTritium = true
		neutronEmbrittlementLifepointsMax = 1000
	}

	
	MODULE
	{
		name = IntegratedThermalElectricPowerGenerator

		efficiencyMk1 = 0.43
		efficiencyMk2 = 0.50
		efficiencyMk3 = 0.57
		efficiencyMk4 = 0.64
		efficiencyMk5 = 0.71
		efficiencyMk6 = 0.78
		efficiencyMk7 = 0.85
		efficiencyMk8 = 0.92
		efficiencyMk9 = 0.99

		Mk2TechReq = largeElectrics
		Mk3TechReq = specializedElectrics
		Mk4TechReq = experimentalElectrics
		Mk5TechReq = microwavePowerTransmission
		Mk6TechReq = specializedPVMaterials
		Mk7TechReq = expPVMaterials
		Mk8TechReq = exoticPVMaterials
		Mk9TechReq = extremePVMaterials

		upgradedName = KTEC Solid State Generator
		originalName = Brayton Cycle Gas Turbine

		radius = 0.625
		isHighPower = true
		calculatedMass = false
		maintainsMegaWattPowerBuffer = true
	}

	

	RESOURCE
	{
		name = ThermalPower
		amount = 0
		maxAmount = 19
	}

	RESOURCE
	{
		name = Megajoules
		amount = 0
		maxAmount = 19
	}

	RESOURCE
	{
		name = WasteHeat
		amount = 0
		maxAmount = 10133
	}

	RESOURCE
	{
		name = UF4
		amount = 12
		maxAmount = 12
	}

	RESOURCE
	{
		name = ThF4
		amount = 0
		maxAmount = 12
	}

	RESOURCE
	{
		name = Actinides
		amount = 0
		maxAmount = 12
	}
}

@PART[USI_Nuke_125]:NEEDS[KolonyTools&!NearFutureElectrical]:FOR[WarpPlugin]
{
	-MODULE[FissionReactor] { }
	-MODULE[ModuleResourceConverter] { }
	-MODULE[ModuleCoreHeat] { }
        -MODULE[FissionGenerator] { }
        -MODULE[RadioactiveStorageContainer] { }

	-RESOURCE[EnrichedUranium] { }
	-RESOURCE[DepletedFuel] { }

	!MODULE[FissionReactor]{}
	!MODULE[RadioactiveStorageContainer]{}
	!MODULE[FissionGenerator]{}

	MODULE
	{
		name = InterstellarFissionMSRGC

		coreTemperatureMk1 = 1200
		coreTemperatureMk2 = 1400
		coreTemperatureMk3 = 1600

		basePowerOutputMk1 = 25
		basePowerOutputMk2 = 37.5
		basePowerOutputMk3 = 56

		upgradeTechReqMk2 = nuclearFuelSystems
		upgradeTechReqMk3 = largeNuclearPower

		originalName = Nuclear Reactor Mk1 (1.25m)
		upgradedName = Nuclear Reactor Mk2 (1.25m)

		upgradeCost = 60
		radius = 1.25
		partMass = 0.8
		minimumThrottle = 0.1
		consumeGlobal = false

		reactorType = 2
		upgradedReactorType = 2

		fuelEfficiency = 0.1376
		upgradedFuelEfficiency = 0.1376
		heatTransportationEfficiency = 0.95
		bonusBufferFactor = 1
		canBeCombinedWithLab = true
		canBreedTritium = true
		neutronEmbrittlementLifepointsMax = 1000
	}

	MODULE
	{
		name = IntegratedThermalElectricPowerGenerator

		efficiencyMk1 = 0.43
		efficiencyMk2 = 0.50
		efficiencyMk3 = 0.57
		efficiencyMk4 = 0.64
		efficiencyMk5 = 0.71
		efficiencyMk6 = 0.78
		efficiencyMk7 = 0.85
		efficiencyMk8 = 0.92
		efficiencyMk9 = 0.99

		Mk2TechReq = largeElectrics
		Mk3TechReq = specializedElectrics
		Mk4TechReq = experimentalElectrics
		Mk5TechReq = microwavePowerTransmission
		Mk6TechReq = specializedPVMaterials
		Mk7TechReq = expPVMaterials
		Mk8TechReq = exoticPVMaterials
		Mk9TechReq = extremePVMaterials

		upgradedName = KTEC Solid State Generator
		originalName = Brayton Cycle Gas Turbine

		radius = 1.25
		isHighPower = true
		calculatedMass = false
		maintainsMegaWattPowerBuffer = true
	}

	RESOURCE
	{
		name = ThermalPower
		amount = 0
		maxAmount = 151
	}

	RESOURCE
	{
		name = Megajoules
		amount = 0
		maxAmount = 151
	}

	RESOURCE
	{
		name = WasteHeat
		amount = 0
		maxAmount = 80533
	}

	RESOURCE
	{
		name = UF4
		amount = 91
		maxAmount = 91
	}

	RESOURCE
	{
		name = ThF4
		amount = 0
		maxAmount = 91
	}

	RESOURCE
	{
		name = Actinides
		amount = 0
		maxAmount = 91
	}
}

@PART[USI_Nuke_250]:NEEDS[KolonyTools&!NearFutureElectrical]:FOR[WarpPlugin]
{
	-MODULE[FissionReactor] { }
	-MODULE[ModuleResourceConverter] { }
	-MODULE[ModuleCoreHeat] { }
        -MODULE[FissionGenerator] { }
        -MODULE[RadioactiveStorageContainer] { }

	-RESOURCE[EnrichedUranium] { }
	-RESOURCE[DepletedFuel] { }

	!MODULE[FissionReactor]{}
	!MODULE[RadioactiveStorageContainer]{}
	!MODULE[FissionGenerator]{}

	@TechRequired = nuclearPower

	MODULE
	{
		name = InterstellarFissionMSRGC

		coreTemperatureMk1 = 1200
		coreTemperatureMk2 = 1400
		coreTemperatureMk3 = 1600

		basePowerOutputMk1 = 200
		basePowerOutputMk2 = 300
		basePowerOutputMk3 = 450

		minimumThrottleMk1 = 0.01
		minimumThrottleMk2 = 0.005
		minimumThrottleMk3 = 0.0025

		upgradeTechReqMk2 = nuclearFuelSystems
		upgradeTechReqMk3 = largeNuclearPower

		originalName = Nuclear Reactor Mk1 (2.5m)
		upgradedName = Nuclear Reactor Mk2 (2.5m)

		upgradeCost = 60
		radius = 2.5
		partMass = 5
		minimumThrottle = 0.1
		consumeGlobal = false
		reactorType = 2
		upgradedReactorType = 2
		fuelEfficiency = 0.1376
		upgradedFuelEfficiency = 0.1376
		heatTransportationEfficiency = 0.95
		bonusBufferFactor = 1
		canBeCombinedWithLab = true
		canBreedTritium = true
		neutronEmbrittlementLifepointsMax = 1000
	}

	MODULE
	{
		name = FNGenerator

		efficiencyMk1 = 0.43
		efficiencyMk2 = 0.50
		efficiencyMk3 = 0.57
		efficiencyMk4 = 0.64
		efficiencyMk5 = 0.71
		efficiencyMk6 = 0.78
		efficiencyMk7 = 0.85
		efficiencyMk8 = 0.92
		efficiencyMk9 = 0.99

		Mk2TechReq = largeElectrics
		Mk3TechReq = specializedElectrics
		Mk4TechReq = experimentalElectrics
		Mk5TechReq = microwavePowerTransmission
		Mk6TechReq = specializedPVMaterials
		Mk7TechReq = expPVMaterials
		Mk8TechReq = exoticPVMaterials
		Mk9TechReq = extremePVMaterials

		upgradedName = KTEC Solid State Generator
		originalName = Brayton Cycle Gas Turbine

		radius = 2.5
		isHighPower = true
		calculatedMass = false
		maintainsMegaWattPowerBuffer = true
	}

	RESOURCE
	{
		name = ThermalPower
		amount = 0
		maxAmount = 938
	}

	RESOURCE
	{
		name = Megajoules
		amount = 0
		maxAmount = 938
	}

	RESOURCE
	{
		name = WasteHeat
		amount = 0
		maxAmount = 500800
	}

	RESOURCE
	{
		name = UF4
		amount = 563
		maxAmount = 563
	}

	RESOURCE
	{
		name = ThF4
		amount = 0
		maxAmount = 563
	}

	RESOURCE
	{
		name = Actinides
		amount = 0
		maxAmount = 563
	}
}

@PART[USI_Nuke_375]:NEEDS[KolonyTools&!NearFutureElectrical]:FOR[WarpPlugin]
{
	-MODULE[FissionReactor] { }
	-MODULE[ModuleResourceConverter] { }
	-MODULE[ModuleCoreHeat] { }
        -MODULE[FissionGenerator] { }
        -MODULE[RadioactiveStorageContainer] { }

	-RESOURCE[EnrichedUranium] { }
	-RESOURCE[DepletedFuel] { }

	!MODULE[FissionReactor]{}
	!MODULE[RadioactiveStorageContainer]{}
	!MODULE[FissionGenerator]{}

	MODULE
	{
		name = InterstellarFissionMSRGC

		coreTemperatureMk1 = 1200
		coreTemperatureMk2 = 1400
		coreTemperatureMk3 = 1600

		basePowerOutputMk1 = 600
		basePowerOutputMk2 = 900
		basePowerOutputMk3 = 1350

		upgradeTechReqMk2 = nuclearFuelSystems
		upgradeTechReqMk3 = largeNuclearPower

		originalName = Nuclear Reactor Mk1 (3.75m)
		upgradedName = Nuclear Reactor Mk2 (3.75m)

		upgradeCost = 60
		radius = 3.75
		partMass = 15
		minimumThrottle = 0.1
		consumeGlobal = false
		reactorType = 2
		upgradedReactorType = 2
		fuelEfficiency = 0.1376
		upgradedFuelEfficiency = 0.1376
		heatTransportationEfficiency = 0.95
		bonusBufferFactor = 1
		canBeCombinedWithLab = true
		canBreedTritium = true
		neutronEmbrittlementLifepointsMax = 1000
	}

	MODULE
	{
		name = FNGenerator

		efficiencyMk1 = 0.43
		efficiencyMk2 = 0.50
		efficiencyMk3 = 0.57
		efficiencyMk4 = 0.64
		efficiencyMk5 = 0.71
		efficiencyMk6 = 0.78
		efficiencyMk7 = 0.85
		efficiencyMk8 = 0.92
		efficiencyMk9 = 0.99

		Mk2TechReq = largeElectrics
		Mk3TechReq = specializedElectrics
		Mk4TechReq = experimentalElectrics
		Mk5TechReq = microwavePowerTransmission
		Mk6TechReq = specializedPVMaterials
		Mk7TechReq = expPVMaterials
		Mk8TechReq = exoticPVMaterials
		Mk9TechReq = extremePVMaterials

		upgradedName = KTEC Solid State Generator
		originalName = Brayton Cycle Gas Turbine

		radius = 3.75
		isHighPower = true
		calculatedMass = false
		maintainsMegaWattPowerBuffer = true
	}

	RESOURCE
	{
		name = ThermalPower
		amount = 0
		maxAmount = 2814
	}

	RESOURCE
	{
		name = Megajoules
		amount = 0
		maxAmount = 2814
	}

	RESOURCE
	{
		name = WasteHeat
		amount = 0
		maxAmount = 1500800
	}

	RESOURCE
	{
		name = UF4
		amount = 1689
		maxAmount = 1689
	}

	RESOURCE
	{
		name = ThF4
		amount = 0
		maxAmount = 1689
	}

	RESOURCE
	{
		name = Actinides
		amount = 0
		maxAmount = 1689
	}
}

// MKS NukeProcessor changes by The TaleTeller

@PART[MK3_NukeProcessor]:NEEDS[KolonyTools&!NearFutureElectrical]:FOR[WarpPlugin]
{
        -RESOURCE[EnrichedUranium] { }

	-MODULE[RadioactiveStorageContainer] { }
        -MODULE[ModuleResourceConverter]:HAS[#ConverterName[Breeder]] { }
        -MODULE[ModuleResourceConverter]:HAS[#ConverterName[Centrifuge]] { }

	RESOURCE
	{
		name = UF4
		amount = 0
		maxAmount = 100
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = UF4 Breeding
		StartActionName = Start UF4 Breeding
		StopActionName = Stop UF4 Breeding
		
		INPUT_RESOURCE
		{
			ResourceName = Uraninite
			Ratio = 0.00850
			FlowMode = STAGE_PRIORITY_FLOW
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 6
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.000001
		}
		OUTPUT_RESOURCE
		{
			ResourceName = UF4
			Ratio = 0.00085
			DumpExcess = False
			FlowMode = STAGE_PRIORITY_FLOW			
		}

		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 2000
		}		
	}

	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Reprocessing Actinides
		StartActionName = Start Reprocessing
		StopActionName = Stop Reprocessing
		
		INPUT_RESOURCE
		{
			ResourceName = Actinides
			Ratio = 0.00085
			FlowMode = STAGE_PRIORITY_FLOW
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 180
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.000001
		}
		OUTPUT_RESOURCE
		{
			ResourceName = UF4
			Ratio = 0.000085
			DumpExcess = False
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = DepletedFuel
			Ratio = 0.000765
			DumpExcess = False
			FlowMode = STAGE_PRIORITY_FLOW
		}

		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 2000
		}		
	}
}

// MKS NukeProcessor changes by Sciman314

@PART[Tundra_NukeProc]:NEEDS[KolonyTools&!NearFutureElectrical]:FOR[WarpPlugin]
{
	@MODULE[USI_ModuleFieldRepair]
	{
		@PullResourceList ^= :$: ,Actinides
	}

	@MODULE[ModuleResourceConverter_USI]:HAS[#ConverterName[Centrifuge]]
	{
		@ConverterName = EnrichedUranium Centrifuge
		@StartActionName = Start EnrichedUranium Centrifuge
		@StopActionName = Stop EnrichedUranium Centrifuge
	}

	@MODULE[ModuleResourceConverter_USI]:HAS[#ConverterName[Breeder]]
	{
		@ConverterName = U238 Reprocessing
		@StartActionName = Start U238 Reprocessing
		@StopActionName = Stop U238 Reprocessing
	}

	MODULE
	{
		name = ModuleResourceConverter_USI
		ConverterName = UF4 Centrifuge
		StartActionName = Start UF4 Centrifuge
		StopActionName = Stop UF4 Centrifuge
		
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = DrillSkill
		Efficiency = 1	

		INPUT_RESOURCE
		{
			ResourceName = Uraninite
			Ratio =  0.04080000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 44.88
		}
		OUTPUT_RESOURCE
		{
			ResourceName = UF4
			Ratio = 0.00825000
			DumpExcess = False
			FlowMode = ALL_VESSEL
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0000400
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0000400
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 2000
		}
	}

	MODULE
	{
		name = ModuleResourceConverter_USI
		ConverterName = Actinides Reprocessing
		StartActionName = Start Actinides Reprocessing
		StopActionName = Stop Actinides Reprocessing
		
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = DrillSkill
		Efficiency = 1	

		INPUT_RESOURCE
		{
			ResourceName = Actinides
			Ratio =  0.04080000
			FlowMode = ALL_VESSEL			
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 44.88
		}
		OUTPUT_RESOURCE
		{
			ResourceName = UF4
			Ratio = 0.00825000
			DumpExcess = False
			FlowMode = ALL_VESSEL			
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0000400
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0000400
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 2000
		}
	}
}

@PART[USI_Nuke_125_S]:NEEDS[KolonyTools&!NearFutureElectrical]:FOR[WarpPlugin]
{
	-MODULE[FissionReactor] { }
	-MODULE[ModuleResourceConverter] { }
	-MODULE[ModuleCoreHeat] { }
        -MODULE[FissionGenerator] { }
        -MODULE[RadioactiveStorageContainer] { }

	-RESOURCE[EnrichedUranium] { }
	-RESOURCE[DepletedFuel] { }

	!MODULE[FissionReactor]{}
	!MODULE[RadioactiveStorageContainer]{}
	!MODULE[FissionGenerator]{}

	MODULE
	{
		name = InterstellarFissionMSRGC

		upgradeTechReqMk2 = largeNuclearPower
		upgradeTechReqMk3 = nuclearFuelSystems 
		upgradeTechReqMk4 = advNuclearPower

		coreTemperatureMk1 = 1000
		coreTemperatureMk2 = 1260
		coreTemperatureMk3 = 1587
		coreTemperatureMk4 = 2000

		basePowerOutputMk1 = 7
		basePowerOutputMk2 = 9
		basePowerOutputMk3 = 30
		basePowerOutputMk4 = 60

		originalName = Nuclear Reactor Mk1 (1.25m Short)
		upgradedName = Nuclear Reactor Mk2 (1.25m Short)

		upgradeCost = 60
		radius = 1.25
		partMass = 0.4
		minimumThrottle = 0.1
		consumeGlobal = false
		reactorType = 2
		upgradedReactorType = 2
		fuelEfficiency = 0.1376
		upgradedFuelEfficiency = 0.1376
		heatTransportationEfficiency = 0.95
		bonusBufferFactor = 1
		canBeCombinedWithLab = true
		canBreedTritium = true
		neutronEmbrittlementLifepointsMax = 1000
	}

	
	MODULE
	{
		name = FNGenerator
		pCarnotEff = 0.31
		maxThermalPower = 800
		upgradedpCarnotEff = 0.6
		upgradedName = KTEC Solid State Generator
		originalName = Brayton Cycle Gas Turbine
		upgradeTechReq = experimentalElectrics
		upgradeCost = 200
		animName = e7
		radius = 0.625
		partMass = 0.15
		calculatedMass = false
	}

	

	RESOURCE
	{
		name = ThermalPower
		amount = 0
		maxAmount = 80
	}

	RESOURCE
	{
		name = Megajoules
		amount = 0
		maxAmount = 80
	}

	RESOURCE
	{
		name = WasteHeat
		amount = 0
		maxAmount = 40000
	}

	RESOURCE
	{
		name = UF4
		amount = 24
		maxAmount = 24
	}

	RESOURCE
	{
		name = ThF4
		amount = 0
		maxAmount = 24
	}

	RESOURCE
	{
		name = Actinides
		amount = 0
		maxAmount = 24
	}
}

