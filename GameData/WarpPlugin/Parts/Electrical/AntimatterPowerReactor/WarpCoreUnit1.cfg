PART
{
	name = kspiAntimatterPowerGenerator
	module = Part
	author = spanner
	
	mesh = WarpCoreUnit1.mu

	node_stack_bottom = 0.0, -3.026, 0.0, 0.0, -1.0, 0.0, 2
	node_stack_top = 0.0, 3.024, 0.0, 0.0, 1.0, 0.0, 2
	
	rescaleFactor=2

	TechRequired = unifiedFieldTheory
	entryCost = 2500000
	cost = 2500000
	category = Propulsion
	subcategory = 0
	title = Plasma Antimatter Power Generator
	manufacturer = SM Industries
	description = Antimmater Reaction With Integrated Power Generator 

	attachRules = 1,0,1,1,1

	mass = 24
	dragModelType = default
	maximum_drag = 0.001
	minimum_drag = 0.0001
	angularDrag = 0.0001

	crashTolerance = 4
	breakingForce = 1000
	breakingTorque = 1000
	maxTemp = 1200
	
	DRAG_CUBE
	{
		cube = DEPLOY_A, 1175,0.006616,22.05,1175,0.006616,22.05,1184,0.006568,19.86,1184,0.006568,19.86,1169,0.00665,19.86,1169,0.00665,19.86, 0,0,0, 38.04,40,40
        cube = DEPLOY_B, 1175,0.006616,22.05,1175,0.006616,22.05,1184,0.006568,19.86,1184,0.006568,19.86,1169,0.00665,19.86,1169,0.00665,19.86, 0,0,0, 38.04,40,40
	}
	
	MODULE
	{
		name = ModuleAnimationGroup
		deployAnimationName = WarpConvertOn
		activeAnimationName = 
		deployActionName = Deploy <<1>>
		retractActionName = Retract <<1>>
		toggleActionName = Toggle <<1>>
		moduleType = Converter
		autoDeploy = false
	}

	MODULE
	{
		name = FNAntimatterReactor

		reactorSpeedMult = 0 			// instant acceleration
		showForcedMinimumThrottle = false

		hotBathTemperature = 4000

		upgradeTechReqMk2 = exoticPlasmaPropulsion

		basePowerOutputMk1 = 40000	
		basePowerOutputMk2 = 80000	// 80 GW
 
		coreTemperatureMk1 = 4000000	// 4 Million degree
		coreTemperatureMk2 = 4000000

		animName = WarpEngage
		partMass = 6
		radius = 2.5
		consumeGlobal = true
		reactorType = 32

		thermalPowerBufferMult = 1
		chargedPowerBufferMult = 1
		wasteHeatBufferMult = 5

		magneticNozzlePowerMult = 0.06

		minimumChargdIspMult = 25
		maximumChargedIspMult = 100

		fuelEfficiency = 1
		upgradedFuelEfficiency = 1

		supportedPropellantAtoms = 511			// All atom
		supportedPropellantTypes = 511			// Any type
	
		thermalPropulsionEfficiency = 0			// cannot use thermal nozzle
		plasmaPropulsionEfficiency = 1			// cannot use plasma nozzle at 2% power
		chargedParticlePropulsionEfficiency = 0		// can use magnetic nozzle at full power

		thermalEnergyEfficiency = 1			// can use Thermal generator at 1% power	 
		plasmaEnergyEfficiency = 0			// can use MHD generator at 2% power
		chargedParticleEnergyEfficiency = 1		// can use direct converter at 0.5% power	

		thermalProcessingModifier = 0.005		// influences the mass of connected power generators

		electricPowerPriority = 3 			// determines default power production priority for connected generator
	}

	MODULE
	{
		name = IntegratedChargedParticlesPowerGenerator
		chargedParticleMode = true

		efficiencyMk1 = 0.5			
		efficiencyMk2 = 0.6
		efficiencyMk3 = 0.7
		efficiencyMk4 = 0.8
		efficiencyMk5 = 0.85
		efficiencyMk6 = 0.9
		efficiencyMk7 = 0.95

		Mk2TechReq = experimentalElectrics
		Mk3TechReq = highTechElectricalSystems
		Mk4TechReq = highPowerElectricalSystems
		Mk5TechReq = experimentalElectricalSystems
		Mk6TechReq = exoticElectricalSystems
		Mk7TechReq = extremeElectricalSystems

		originalName = Direct Conversion Generator
		altUpgradedName = Advanced Direct Conversion Generator

		radius = 2.5
		isHighPower = true
		calculatedMass = false
		rawPowerToMassDivider = 2000
	}

	MODULE
	{
		name = IntegratedThermalElectricPowerGenerator
		chargedParticleMode = false

		efficiencyMk1 = 0.84
		efficiencyMk2 = 0.92
		efficiencyMk3 = 0.96
		efficiencyMk4 = 0.98
		efficiencyMk5 = 0.99
		efficiencyMk6 = 0.995

		Mk2TechReq = microwavePowerTransmission
		Mk3TechReq = specializedPVMaterials
		Mk4TechReq = expPVMaterials
		Mk5TechReq = exoticPVMaterials
		Mk6TechReq = extremePVMaterials

		upgradedName = Hawking Radiation converter
		originalName = Advanced Hawking Radiation converter

		radius = 2.5
		isHighPower = true
		calculatedMass = false
		showSpecialisedUI = false
		maintainsMegaWattPowerBuffer = false
	}

	MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = false

		OUTPUT_RESOURCE
		{
			name = ElectricCharge
			rate = 9000000
		}
	}

	MODULE
	{
		name = TweakScale
		type = surface_interstellar_250
		defaultScale = 2.5
		scaleFactors = 1.25, 1.875, 2.5, 5.0, 7.5, 10, 15, 20, 30, 40
	}

	RESOURCE
	{
		name = Megajoules
		amount = 0
		maxAmount = 32000
	}

	RESOURCE
	{
		name = ElectricCharge
		amount = 0
		maxAmount = 32000
	}

	RESOURCE
	{
		name = WasteHeat
		amount = 0
		maxAmount = 3200000
	}

	RESOURCE
	{
		name = ThermalPower
		amount = 0
		maxAmount = 20000
	}

	RESOURCE
	{
		name = ChargedParticles
		amount = 0
		maxAmount = 20000
	}

	RESOURCE
	{
		name = Antimatter
		amount = 0
		maxAmount = 120000
	}

	RESOURCE
	{
		name = Hydrogen
		amount = 333.705
		maxAmount = 333.705
	}

	MODULE
	{
		name = AntimatterStorageTank
		maxCharge = 3600 		// minimal 1 hour backup
		canExplodeFromHeat = false
		canExplodeFromGeeForce = false
		calculatedMass = false
		chargeNeeded = 10		
		massExponent = 3

		maxStorage = 120000

		Mk2Tech = highTechElectricalSystems
		Mk3Tech = highPowerElectricalSystems
		Mk4Tech = experimentalElectricalSystems
		Mk5Tech = exoticElectricalSystems
		Mk6Tech = extremeElectricalSystems

		Mk1AmountRatio = 0.03125
		Mk2AmountRatio = 0.0626
		Mk3AmountRatio = 0.125
		Mk4AmountRatio = 0.25
		Mk5AmountRatio = 0.5
		Mk6AmountRatio = 1
	}
}
