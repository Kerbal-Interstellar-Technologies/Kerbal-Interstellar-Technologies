// Kerbal Space Program - Part Config
// 1X-2000 ZPFTR Liquid Fuel Engine Cluster
// 

PART
{
	// --- general parameters ---
	name = ZPinchFusionEngineAirospike
	module = Part
	author = leucome

	// --- asset parameters ---
	mesh = model.mu
	rescaleFactor = 0.83

	// --- node definitions ---
	node_stack_top = 0.0, 4.73, 0.0, 0.0, 1.0, 0.0
	node_stack_bottom = 0.0, -4.0, 0.0, 0.0, -1.0, 0.0

	// --- FX definitions ---
	fx_exhaustLight_blue = 0.0, -2.40, 0.0, 0.0, 1.0, 0.0, running
	fx_exhaustFlame_blue = 0.0, -2.40, 0.0, 0.0, 1.0, 0.0, running
	fx_smokeTrail_light = 0.0, -2, 0.0, 0.0, 1.0, 0.0, running
	fx_exhaustSparks_flameout = 0.0, -2.40, 0.0, 0.0, 1.0, 0.0, flameout

	// --- Sound FX definition ---
	sound_vent_medium = engage
	sound_rocket_hard = running
	sound_vent_soft = disengage
	sound_explosion_low = flameout

	// --- editor parameters ---
	TechRequired = specializedFusionRockets
	entryCost = 600000
	cost = 300000
	category = Engine
	subcategory = 0

	title = Airospike Z-Pinch Fusion Engine 
	manufacturer = Leucome nuclear space industry.
	description = The Airospike Z-pinch fusion engines include the air breating and cooler that alow to use air as propellant. It also features an Aerospike nozzle allowing it to opare in almost any atmosphere.

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,1,1,0

	// --- standard part parameters ---
	mass = 20
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 60
	breakingForce = 12000
	breakingTorque = 12000
	maxTemp = 6000

	// --- liquid engine parameters ---
	MODULE
	{
		name = ModuleEngines
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 2550
		heatProduction = 500
		fxOffset = 0, 0, 0.8

		PROPELLANT
		{
			name = IntakeAtm
		        ratio = 1.38337941 // 1.44
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdDeuterium
		        ratio = 1.38337941e-3
			DrawGauge = True
		}

		atmosphereCurve
	 	{
	   	 	key = 0 1520
  	 		key = 1 2850
	 	}	
	}

    	MODULE
    	{
		name = VistaECU2
		
		selectableIsp= True
		
		upgradeTechReq1 = fusionPower
		upgradeTechReq2 = advFusionReactions
		upgradeTechReq3 = exoticReactions
		upgradeTechReq4 = quantumReactions

		killDivider = 50
		leathalDistance = 2000

		efficiency = 0.4
		efficiencyUpgraded1 = 0.5
		efficiencyUpgraded2 = 0.6
		efficiencyUpgraded3 = 0.7
		efficiencyUpgraded4 = 0.8

		maxThrust = 500
		maxThrustUpgraded1 = 800
		maxThrustUpgraded2 = 1300
		maxThrustUpgraded3 = 2000
		maxThrustUpgraded4 = 3000

		powerRequirement = 500
		powerRequirementUpgraded1 = 800
		powerRequirementUpgraded2 = 1300
		powerRequirementUpgraded3 = 2000
		powerRequirementUpgraded4 = 3000

		fusionWasteHeat = 500
		fusionWasteHeatUpgraded1 = 800
		fusionWasteHeatUpgraded2 = 1300
		fusionWasteHeatUpgraded3 = 2000
		fusionWasteHeatUpgraded4 = 3000

		maxTemp = 2500
		wasteHeatMultiplier = 1
		maxAtmosphereDensity = 1000
    	}

    	MODULE
    	{
        	name = FuelConfiguration
        	fuelConfigurationName = Deuterium-Atmospher
		requiredTechLevel = 0
        	fuels = IntakeAtm, LqdDeuterium, WasteHeat
        	ratios = 1.38337941, 1.38337941e-3, 0
        	amount = 160, 160, 0
        	maxAmount = 160, 160, 1200000
        	maxIsp = 2850
        	maxThrust = 7000
        	thrustMult = 1
        	powerMult = 1
        
        	atmosphereCurve
        	{
           		key = 0 1520
            		key = 1 2850
        	}
    	}

    	MODULE
    	{
        	name = FuelConfiguration
        	fuelConfigurationName = Deuterium
		requiredTechLevel = 0
        	fuels = LqdDeuterium, WasteHeat
        	ratios = 1.38337941, 0
        	amount = 160000, 0
        	maxAmount = 160000, 1200000
        	maxIsp = 8180
        	maxThrust = 7000
        	thrustMult = 0.3367
        	powerMult = 1
        
        	atmosphereCurve
        	{
           		key = 0 8464
			key = 0.01 0
            		key = 1 0
        	}
    	}

	MODULE
	{
       		name = ModuleJettison
       		jettisonName = fairing
       		bottomNodeName = bottom
       		isFairing = True
       		jettisonedObjectMass = 0.5
       		jettisonForce = 15
       		jettisonDirection = 0 0 1	
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 0.4
	}

	MODULE
	{
      		name = ModuleAnimateHeat
      		ThermalAnim = glow
	}

	MODULE
	{
		name = ModuleResourceIntake
		resourceName = IntakeAir
		checkForOxygen = false
		area = 0.2
		intakeSpeed = 10
		intakeTransformName = Intake
		machCurve
		{
			key = 0 0.85 0 0
			key = 1 1 0 0
			key = 2 0.95 -0.08751557 -0.08751557
			key = 4 0.5 -0.4034287 -0.4034287
			key = 8 0.01 0 0
		}
	}

	RESOURCE
	{
		name = IntakeAir
		amount = 100
		maxAmount = 100
	}

    	RESOURCE
    	{
		name = LqdDeuterium
		amount = 1000
		maxAmount = 1000
    	}

    	RESOURCE
    	{
	 	name 		= 	WasteHeat
	 	amount 		= 	0
	 	maxAmount 	= 	1200000
    	}
}
